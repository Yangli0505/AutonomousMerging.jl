<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Generative Merging MDP · AutonomousMerging.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>AutonomousMerging.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../cooperative_idm/">Cooperative IDM</a></li><li class="current"><a class="toctext" href>Generative Merging MDP</a><ul class="internal"></ul></li><li><a class="toctext" href="../">About</a></li><li><a class="toctext" href="../merging_environment/">Merging Environment</a></li><li><a class="toctext" href="../merging_mdp/">Merging MDP</a></li><li><a class="toctext" href="../rendering/">Rendering</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Generative Merging MDP</a></li></ul><a class="edit-page" href="https://github.com/sisl/AutonomousMerging.jl/blob/master/docs/src/generative_merging_mdp.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Generative Merging MDP</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Generative-Merging-MDP-1" href="#Generative-Merging-MDP-1">Generative Merging MDP</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.GenerativeMergingMDP" href="#AutonomousMerging.GenerativeMergingMDP"><code>AutonomousMerging.GenerativeMergingMDP</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">GenerativeMergingMDP</code></pre><p>A simulation environment for a highway merging scenario. Implemented using POMDPs.jl </p><p><strong>Parameters</strong></p><pre><code class="language-none">- `env::MergingEnvironment = MergingEnvironment(main_lane_angle = 0.0, merge_lane_angle = pi/7)`
- `n_cars_main::Int64 = 1`
- `n_cars_merge::Int64 = 1`
- `n_agents::Int64 = n_cars_main + n_cars_merge`
- `max_cars::Int64 = 16`
- `min_cars::Int64 = 0`
- `car_def::VehicleDef = VehicleDef()`
- `dt::Float64 = 0.5 # time step`
- `jerk_levels::SVector{5, Float64} = SVector(-1, -0.5, 0, 0.5, 1.0)`
- `accel_levels::SVector{6, Float64} = SVector(-4.0, -2.0, -1.0, 0.0, 1.0, 2.0)`
- `max_deceleration::Float64 = -4.0`
- `max_acceleration::Float64 = 3.5`
- `comfortable_acceleration::Float64 = 2.0`
- `discount_factor::Float64 = 0.95`
- `ego_idm::IntelligentDriverModel = IntelligentDriverModel(σ=0.0, v_des=env.main_lane_vmax)`
- `default_driver_model::DriverModel{LaneFollowingAccel} = IntelligentDriverModel(v_des=env.main_lane_vmax)`
- `observe_cooperation::Bool = false`
- `observe_speed::Bool = true`
- `traffic_speed::Symbol = :mixed`
- `random_n_cars::Bool = false`
- `driver_type::Symbol = :random`
- `max_burn_in::Int64 = 20`
- `min_burn_in::Int64 = 10`
- `initial_ego_velocity::Float64 = 10.0`
- `initial_velocity::Float64 = 5.0`
- `initial_velocity_std::Float64 = 1.0`
- `main_lane_slots::LinRange{Float64} = LinRange(0.0, env.main_lane_length + env.after_merge_length, max_cars)`
- `collision_cost::Float64 = -1.0`
- `goal_reward::Float64 = 1.0`
- `hard_brake_cost::Float64 = 0.0`</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/80516ca20297a67b996caa08c38786332379b6a5/base/#L0-L36">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.AugScene" href="#AutonomousMerging.AugScene"><code>AutonomousMerging.AugScene</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AugScene</code></pre><p>Driving scene augmented with information about the ego vehicle</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/generative_mdp.jl#L7-L10">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.MergingBelief" href="#AutonomousMerging.MergingBelief"><code>AutonomousMerging.MergingBelief</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">MergingBelief</code></pre><p>A type to represent belief state. It consists of the current observation <code>o</code> and the estimated driver types represented by a dictionnary mapping ID to cooperation levels.</p><p><strong>fields</strong></p><ul><li><code>o::AugScene</code></li><li><code>driver_types::Dict{Int64, Float64}</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/belief_updater.jl#L15-L22">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.MergingUpdater" href="#AutonomousMerging.MergingUpdater"><code>AutonomousMerging.MergingUpdater</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">MergingUpdater &lt;: Updater</code></pre><p>A belief updater for <code>MergingBelief</code>. It sets <code>o</code> to the current observation and updates  the belief on the drivers cooperation level using Bayes&#39; rule</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/belief_updater.jl#L79-L83">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.extract_features" href="#AutonomousMerging.extract_features"><code>AutonomousMerging.extract_features</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">extract_features(mdp::GenerativeMergingMDP, s::AugScene)</code></pre><p>extract a feature vector from AugScene</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/generative_mdp.jl#L195-L199">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.normalize_features!" href="#AutonomousMerging.normalize_features!"><code>AutonomousMerging.normalize_features!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">normalize_features!(mdp::GenerativeMergingMDP, features::Vector{Float64})</code></pre><p>normalize a feature vector extracted from a scene</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/generative_mdp.jl#L294-L298">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.unnormalize_features!" href="#AutonomousMerging.unnormalize_features!"><code>AutonomousMerging.unnormalize_features!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none"> unnormalize_features!(mdp::GenerativeMergingMDP, features::Vector{Float64})</code></pre><p>rescale feature vector</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/generative_mdp.jl#L318-L321">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.initial_merge_car_state" href="#AutonomousMerging.initial_merge_car_state"><code>AutonomousMerging.initial_merge_car_state</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">initial_merge_car_state(mdp::GenerativeMergingMDP, rng::AbstractRNG, id::Int64)</code></pre><p>returns a Vehicle, at the initial state of the merging car.</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/generative_mdp.jl#L399-L402">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.reset_main_car_state" href="#AutonomousMerging.reset_main_car_state"><code>AutonomousMerging.reset_main_car_state</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">reset_main_car_state(mdp::GenerativeMergingMDP, veh::Vehicle)</code></pre><p>initialize a car at the beginning of the main lane</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/generative_mdp.jl#L410-L413">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.reachgoal" href="#AutonomousMerging.reachgoal"><code>AutonomousMerging.reachgoal</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">reachgoal(mdp::GenerativeMergingMDP, ego::Vehicle)</code></pre><p>return true if <code>ego</code> reached the goal position</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/generative_mdp.jl#L420-L423">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.caused_hard_brake" href="#AutonomousMerging.caused_hard_brake"><code>AutonomousMerging.caused_hard_brake</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">caused_hard_brake(mdp::GenerativeMergingMDP, scene::Scene)</code></pre><p>returns true if the ego vehicle caused its rear neighbor to hard brake</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/generative_mdp.jl#L430-L433">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.action_map" href="#AutonomousMerging.action_map"><code>AutonomousMerging.action_map</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">action_map(mdp::GenerativeMergingMDP, acc::Float64, a::Int64)</code></pre><p>maps integer to a LaneFollowingAccel</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/generative_mdp.jl#L444-L447">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutonomousMerging.vehicle_state" href="#AutonomousMerging.vehicle_state"><code>AutonomousMerging.vehicle_state</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">vehicle_state(s::Float64, lane::Lane, v::Float64, roadway::Roadway)</code></pre><p>convenient constructor for VehicleState</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutonomousMerging.jl/blob/c9921dc98ea5e2fd188f56bbdf4228464aaf03fe/src/generative_mdp.jl#L458-L461">source</a></section><footer><hr/><a class="previous" href="../cooperative_idm/"><span class="direction">Previous</span><span class="title">Cooperative IDM</span></a><a class="next" href="../"><span class="direction">Next</span><span class="title">About</span></a></footer></article></body></html>
